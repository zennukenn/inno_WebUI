import{S as du,i as cu,s as Eu,n as uu,d as c,b as U,c as r,C as s,e as f,f as v,h as y,F as gu,j as h,k as x,H as fu,a as hu,o as L,p as vu,m as K,q as Cu,G as Bu,I as J,J as P,g as Du,K as G,t as pu,L as au,M as mu,y as O,A as X,B as Q,z as Y}from"../chunks/CIdRdH2t.js";import"../chunks/IHki7fMi.js";import{r as nu,s as lu}from"../chunks/AvMoPzej.js";function ou(g){let u,t,n,l,a,F,e,o="AIæ€è€ƒè¿‡ç¨‹",d,i,p=g[2]?"ç‚¹å‡»æ”¶èµ·":"ç‚¹å‡»å±•å¼€",m,C,B,A,w,S,I,H,E=g[2]&&iu(g);return{c(){u=h("div"),t=h("button"),n=h("div"),l=G("svg"),a=G("path"),F=x(),e=h("span"),e.textContent=o,d=x(),i=h("span"),m=pu(p),C=x(),B=G("svg"),A=G("path"),S=x(),E&&E.c(),this.h()},l(D){u=f(D,"DIV",{class:!0});var b=v(u);t=f(b,"BUTTON",{class:!0});var R=v(t);n=f(R,"DIV",{class:!0});var k=v(n);l=J(k,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var V=v(l);a=J(V,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(a).forEach(c),V.forEach(c),F=y(k),e=f(k,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-509vli"&&(e.textContent=o),d=y(k),i=f(k,"SPAN",{class:!0});var M=v(i);m=Du(M,p),M.forEach(c),k.forEach(c),C=y(R),B=J(R,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var j=v(B);A=J(j,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(A).forEach(c),j.forEach(c),R.forEach(c),S=y(b),E&&E.l(b),b.forEach(c),this.h()},h(){s(a,"stroke-linecap","round"),s(a,"stroke-linejoin","round"),s(a,"stroke-width","2"),s(a,"d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"),s(l,"class","w-4 h-4 text-gray-500 dark:text-gray-400"),s(l,"fill","none"),s(l,"stroke","currentColor"),s(l,"viewBox","0 0 24 24"),s(e,"class","text-sm font-medium text-gray-600 dark:text-gray-300"),s(i,"class","text-xs text-gray-400 dark:text-gray-500 bg-gray-200 dark:bg-gray-600 px-2 py-0.5 rounded-full"),s(n,"class","flex items-center space-x-2"),s(A,"stroke-linecap","round"),s(A,"stroke-linejoin","round"),s(A,"stroke-width","2"),s(A,"d","M19 9l-7 7-7-7"),s(B,"class",w="w-4 h-4 text-gray-400 transition-transform duration-200 "+(g[2]?"rotate-180":"")),s(B,"fill","none"),s(B,"stroke","currentColor"),s(B,"viewBox","0 0 24 24"),s(t,"class","thinking-header w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-t-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors svelte-1jlyhx"),s(u,"class","thinking-section mb-4 svelte-1jlyhx")},m(D,b){U(D,u,b),r(u,t),r(t,n),r(n,l),r(l,a),r(n,F),r(n,e),r(n,d),r(n,i),r(i,m),r(t,C),r(t,B),r(B,A),r(u,S),E&&E.m(u,null),I||(H=Bu(t,"click",g[8]),I=!0)},p(D,b){b&4&&p!==(p=D[2]?"ç‚¹å‡»æ”¶èµ·":"ç‚¹å‡»å±•å¼€")&&hu(m,p),b&4&&w!==(w="w-4 h-4 text-gray-400 transition-transform duration-200 "+(D[2]?"rotate-180":""))&&s(B,"class",w),D[2]?E?(E.p(D,b),b&4&&L(E,1)):(E=iu(D),E.c(),L(E,1),E.m(u,null)):E&&(vu(),K(E,1,1,()=>{E=null}),Cu())},d(D){D&&c(u),E&&E.d(),I=!1,H()}}}function iu(g){let u,t,n,l,a,F;return{c(){u=h("div"),t=h("div"),n=h("div"),l=new fu(!1),this.h()},l(e){u=f(e,"DIV",{class:!0});var o=v(u);t=f(o,"DIV",{class:!0});var d=v(t);n=f(d,"DIV",{class:!0});var i=v(n);l=gu(i,!1),i.forEach(c),d.forEach(c),o.forEach(c),this.h()},h(){l.a=null,s(n,"class","prose prose-sm prose-gray dark:prose-invert max-w-none thinking-prose"),s(t,"class","p-4 bg-gray-25 dark:bg-gray-800/30 svelte-1jlyhx"),s(u,"class","thinking-content border-l border-r border-b border-gray-200 dark:border-gray-600 rounded-b-lg svelte-1jlyhx")},m(e,o){U(e,u,o),r(u,t),r(t,n),l.m(g[4],n),F=!0},p(e,o){(!F||o&16)&&l.p(e[4])},i(e){F||(e&&mu(()=>{F&&(a||(a=au(u,lu,{duration:300},!0)),a.run(1))}),F=!0)},o(e){e&&(a||(a=au(u,lu,{duration:300},!1)),a.run(0)),F=!1},d(e){e&&c(u),e&&a&&a.end()}}}function Fu(g){let u;return{c(){u=h("span"),this.h()},l(t){u=f(t,"SPAN",{class:!0}),v(u).forEach(c),this.h()},h(){s(u,"class","inline-block w-2 h-5 bg-blue-500 animate-pulse ml-1 rounded-sm")},m(t,n){U(t,u,n)},d(t){t&&c(u)}}}function Au(g){let u,t,n,l,a,F,e=g[1]&&ou(g),o=g[0]&&Fu();return{c(){u=h("div"),e&&e.c(),t=x(),n=h("div"),l=h("div"),a=new fu(!1),F=x(),o&&o.c(),this.h()},l(d){u=f(d,"DIV",{class:!0});var i=v(u);e&&e.l(i),t=y(i),n=f(i,"DIV",{class:!0});var p=v(n);l=f(p,"DIV",{class:!0});var m=v(l);a=gu(m,!1),F=y(m),o&&o.l(m),m.forEach(c),p.forEach(c),i.forEach(c),this.h()},h(){a.a=F,s(l,"class","prose prose-gray dark:prose-invert max-w-none response-prose"),s(n,"class","response-section"),s(u,"class","ai-response")},m(d,i){U(d,u,i),e&&e.m(u,null),r(u,t),r(u,n),r(n,l),a.m(g[3],l),r(l,F),o&&o.m(l,null)},p(d,[i]){d[1]?e?e.p(d,i):(e=ou(d),e.c(),e.m(u,t)):e&&(e.d(1),e=null),i&8&&a.p(d[3]),d[0]?o||(o=Fu(),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},i:uu,o:uu,d(d){d&&c(u),e&&e.d(),o&&o.d()}}}function bu(g,u,t){let n,l,a,{content:F}=u,{isStreaming:e=!1}=u,o=!1,d="",i="";function p(C){const B=/(?:<thinking>([\s\S]*?)<\/thinking>|ã€æ€è€ƒã€‘([\s\S]*?)ã€\/æ€è€ƒã€‘)/gi,A=[...C.matchAll(B)];A.length>0?(t(6,d=A.map(w=>w[1]||w[2]).join(`

`).trim()),t(7,i=C.replace(B,"").trim())):(t(6,d=""),t(7,i=C))}const m=()=>t(2,o=!o);return g.$$set=C=>{"content"in C&&t(5,F=C.content),"isStreaming"in C&&t(0,e=C.isStreaming)},g.$$.update=()=>{g.$$.dirty&32&&p(F),g.$$.dirty&64&&t(1,n=d.length>0),g.$$.dirty&66&&t(4,l=n?nu(d):""),g.$$.dirty&128&&t(3,a=nu(i))},[e,n,o,a,l,F,d,i,m]}class Z extends du{constructor(u){super(),cu(this,u,bu,Au,Eu,{content:5,isStreaming:0})}}function ku(g){let u,t,n="AIå›ç­”æ ·å¼æ¼”ç¤º",l,a,F,e,o="ç¤ºä¾‹1ï¼šä½¿ç”¨ <thinking> æ ‡ç­¾",d,i,p,m,C,B,A="ç¤ºä¾‹2ï¼šä½¿ç”¨ã€æ€è€ƒã€‘æ ‡ç­¾",w,S,I,H,E,D,b="ç¤ºä¾‹3ï¼šæµå¼è¾“å…¥æ•ˆæœ",R,k,V,M,j,eu='<h3 class="text-lg font-semibold mb-3 text-blue-800 dark:text-blue-200">ğŸ’¡ ä½¿ç”¨è¯´æ˜</h3> <div class="text-sm text-blue-700 dark:text-blue-300 space-y-2"><p><strong>æ€è€ƒæ ‡è®°æ”¯æŒï¼š</strong></p> <ul class="list-disc list-inside space-y-1 ml-4"><li><code>&lt;thinking&gt;...&lt;/thinking&gt;</code> - XMLé£æ ¼æ ‡è®°</li> <li><code>ã€æ€è€ƒã€‘...ã€/æ€è€ƒã€‘</code> - ä¸­æ–‡æ ‡è®°</li></ul> <p class="mt-3"><strong>åŠŸèƒ½ç‰¹æ€§ï¼š</strong></p> <ul class="list-disc list-inside space-y-1 ml-4"><li>æ€è€ƒéƒ¨åˆ†é»˜è®¤æŠ˜å ï¼Œç‚¹å‡»å¯å±•å¼€</li> <li>æ€è€ƒå†…å®¹ä½¿ç”¨æ–œä½“å’Œç°è‰²æ˜¾ç¤º</li> <li>æ­£å¼å›ç­”ä½¿ç”¨æ­£å¸¸æ ·å¼</li> <li>æ”¯æŒMarkdownæ¸²æŸ“</li> <li>æ”¯æŒæµå¼è¾“å…¥æ•ˆæœ</li></ul></div>',$;return p=new Z({props:{content:g[0]}}),I=new Z({props:{content:g[1]}}),V=new Z({props:{content:"è¿™æ˜¯ä¸€ä¸ªæ­£åœ¨è¾“å…¥çš„AIå›ç­”...",isStreaming:!0}}),{c(){u=h("div"),t=h("h1"),t.textContent=n,l=x(),a=h("div"),F=h("div"),e=h("h2"),e.textContent=o,d=x(),i=h("div"),Y(p.$$.fragment),m=x(),C=h("div"),B=h("h2"),B.textContent=A,w=x(),S=h("div"),Y(I.$$.fragment),H=x(),E=h("div"),D=h("h2"),D.textContent=b,R=x(),k=h("div"),Y(V.$$.fragment),M=x(),j=h("div"),j.innerHTML=eu,this.h()},l(_){u=f(_,"DIV",{class:!0});var T=v(u);t=f(T,"H1",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1tslsoy"&&(t.textContent=n),l=y(T),a=f(T,"DIV",{class:!0});var N=v(a);F=f(N,"DIV",{class:!0});var z=v(F);e=f(z,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-vwawco"&&(e.textContent=o),d=y(z),i=f(z,"DIV",{class:!0});var tu=v(i);Q(p.$$.fragment,tu),tu.forEach(c),z.forEach(c),m=y(N),C=f(N,"DIV",{class:!0});var W=v(C);B=f(W,"H2",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-1o6bp01"&&(B.textContent=A),w=y(W),S=f(W,"DIV",{class:!0});var su=v(S);Q(I.$$.fragment,su),su.forEach(c),W.forEach(c),H=y(N),E=f(N,"DIV",{class:!0});var q=v(E);D=f(q,"H2",{class:!0,"data-svelte-h":!0}),P(D)!=="svelte-1gv83wd"&&(D.textContent=b),R=y(q),k=f(q,"DIV",{class:!0});var ru=v(k);Q(V.$$.fragment,ru),ru.forEach(c),q.forEach(c),N.forEach(c),M=y(T),j=f(T,"DIV",{class:!0,"data-svelte-h":!0}),P(j)!=="svelte-1hu7eyb"&&(j.innerHTML=eu),T.forEach(c),this.h()},h(){s(t,"class","text-3xl font-bold mb-8 text-gray-900 dark:text-white"),s(e,"class","text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200"),s(i,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-4"),s(F,"class","bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-200 dark:border-gray-700"),s(B,"class","text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200"),s(S,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-4"),s(C,"class","bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-200 dark:border-gray-700"),s(D,"class","text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200"),s(k,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-4"),s(E,"class","bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-200 dark:border-gray-700"),s(a,"class","space-y-8"),s(j,"class","mt-12 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800"),s(u,"class","container mx-auto p-8 max-w-4xl svelte-1lehx3z")},m(_,T){U(_,u,T),r(u,t),r(u,l),r(u,a),r(a,F),r(F,e),r(F,d),r(F,i),X(p,i,null),r(a,m),r(a,C),r(C,B),r(C,w),r(C,S),X(I,S,null),r(a,H),r(a,E),r(E,D),r(E,R),r(E,k),X(V,k,null),r(u,M),r(u,j),$=!0},p:uu,i(_){$||(L(p.$$.fragment,_),L(I.$$.fragment,_),L(V.$$.fragment,_),$=!0)},o(_){K(p.$$.fragment,_),K(I.$$.fragment,_),K(V.$$.fragment,_),$=!1},d(_){_&&c(u),O(p),O(I),O(V)}}}function _u(g){return[`<thinking>
ç”¨æˆ·è¯¢é—®å¦‚ä½•ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ã€‚æˆ‘éœ€è¦ä»å¤šä¸ªè§’åº¦æ¥å›ç­”ï¼š

1. å‰ç«¯ä¼˜åŒ– - ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€å›¾ç‰‡ä¼˜åŒ–ç­‰
2. åç«¯ä¼˜åŒ– - ç¼“å­˜ã€æ•°æ®åº“ä¼˜åŒ–ã€CDNç­‰  
3. ç½‘ç»œä¼˜åŒ– - HTTP/2ã€å‹ç¼©ç­‰
4. ç›‘æ§å’Œæµ‹é‡ - æ€§èƒ½æŒ‡æ ‡ã€å·¥å…·ç­‰

æˆ‘åº”è¯¥æä¾›å…·ä½“å¯è¡Œçš„å»ºè®®ï¼Œè€Œä¸æ˜¯æ³›æ³›è€Œè°ˆã€‚
</thinking>

# ç½‘ç«™æ€§èƒ½ä¼˜åŒ–æŒ‡å—

ç½‘ç«™æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªç³»ç»Ÿæ€§å·¥ç¨‹ï¼Œéœ€è¦ä»å¤šä¸ªç»´åº¦è¿›è¡Œè€ƒè™‘ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®çš„ä¼˜åŒ–ç­–ç•¥ï¼š

## ğŸš€ å‰ç«¯ä¼˜åŒ–

### ä»£ç ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**ï¼šä½¿ç”¨åŠ¨æ€å¯¼å…¥(dynamic imports)æŒ‰éœ€åŠ è½½ä»£ç 
- **Tree Shaking**ï¼šç§»é™¤æœªä½¿ç”¨çš„ä»£ç 
- **å‹ç¼©æ··æ·†**ï¼šä½¿ç”¨å·¥å…·å¦‚Terserå‹ç¼©JavaScriptä»£ç 

### èµ„æºä¼˜åŒ–
- **å›¾ç‰‡ä¼˜åŒ–**ï¼š
  - ä½¿ç”¨ç°ä»£æ ¼å¼å¦‚WebPã€AVIF
  - å®ç°å“åº”å¼å›¾ç‰‡
  - æ·»åŠ æ‡’åŠ è½½
- **å­—ä½“ä¼˜åŒ–**ï¼šä½¿ç”¨font-display: swapï¼Œé¢„åŠ è½½å…³é”®å­—ä½“

## âš¡ åç«¯ä¼˜åŒ–

### ç¼“å­˜ç­–ç•¥
- **æµè§ˆå™¨ç¼“å­˜**ï¼šè®¾ç½®åˆé€‚çš„Cache-Controlå¤´
- **CDNç¼“å­˜**ï¼šä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ
- **æœåŠ¡å™¨ç¼“å­˜**ï¼šRedisã€Memcachedç­‰

### æ•°æ®åº“ä¼˜åŒ–
- æ·»åŠ é€‚å½“çš„ç´¢å¼•
- ä¼˜åŒ–æŸ¥è¯¢è¯­å¥
- ä½¿ç”¨è¿æ¥æ± 

## ğŸ“Š æ€§èƒ½ç›‘æ§

ä½¿ç”¨å·¥å…·å¦‚ï¼š
- **Lighthouse**ï¼šç»¼åˆæ€§èƒ½è¯„ä¼°
- **WebPageTest**ï¼šè¯¦ç»†çš„æ€§èƒ½åˆ†æ
- **Core Web Vitals**ï¼šå…³æ³¨ç”¨æˆ·ä½“éªŒæŒ‡æ ‡

> ğŸ’¡ **æç¤º**ï¼šæ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦å®šæœŸç›‘æ§å’Œè°ƒæ•´ã€‚

è®°ä½ï¼Œ**æµ‹é‡æ¯”çŒœæµ‹æ›´é‡è¦**ï¼`,`ã€æ€è€ƒã€‘
è¿™ä¸ªé—®é¢˜æ¶‰åŠåˆ°Reactçš„çŠ¶æ€ç®¡ç†ã€‚ç”¨æˆ·å¯èƒ½æ˜¯åˆå­¦è€…ï¼Œæˆ‘éœ€è¦è§£é‡Šæ¸…æ¥šuseStateçš„å·¥ä½œåŸç†ï¼ŒåŒ…æ‹¬ï¼š

1. çŠ¶æ€çš„å¼‚æ­¥æ›´æ–°ç‰¹æ€§
2. å‡½æ•°å¼æ›´æ–°çš„æ¦‚å¿µ
3. ä¸ºä»€ä¹ˆç›´æ¥ä¿®æ”¹çŠ¶æ€ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“
4. æä¾›å…·ä½“çš„ä»£ç ç¤ºä¾‹

æˆ‘åº”è¯¥ç”¨ç®€å•æ˜“æ‡‚çš„è¯­è¨€æ¥è§£é‡Šè¿™äº›æ¦‚å¿µã€‚
ã€/æ€è€ƒã€‘

# React useState è¯¦è§£

\`useState\` æ˜¯Reactä¸­æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„Hookä¹‹ä¸€ã€‚è®©æˆ‘æ¥è¯¦ç»†è§£é‡Šå®ƒçš„å·¥ä½œåŸç†ã€‚

## åŸºæœ¬ç”¨æ³•

\`\`\`javascript
import React, { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);
  
  return (
    <div>
      <p>å½“å‰è®¡æ•°: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        å¢åŠ 
      </button>
    </div>
  );
}
\`\`\`

## ğŸ”‘ å…³é”®æ¦‚å¿µ

### 1. çŠ¶æ€æ˜¯å¼‚æ­¥æ›´æ–°çš„
Reactä¼šæ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°ï¼Œè¿™æ„å‘³ç€çŠ¶æ€ä¸ä¼šç«‹å³æ”¹å˜ï¼š

\`\`\`javascript
function handleClick() {
  setCount(count + 1);
  console.log(count); // è¿™é‡Œæ‰“å°çš„ä»ç„¶æ˜¯æ—§å€¼ï¼
}
\`\`\`

### 2. å‡½æ•°å¼æ›´æ–°
å½“æ–°çŠ¶æ€ä¾èµ–äºå‰ä¸€ä¸ªçŠ¶æ€æ—¶ï¼Œä½¿ç”¨å‡½æ•°å¼æ›´æ–°æ›´å®‰å…¨ï¼š

\`\`\`javascript
// âœ… æ¨è
setCount(prevCount => prevCount + 1);

// âŒ å¯èƒ½æœ‰é—®é¢˜
setCount(count + 1);
\`\`\`

### 3. å¯¹è±¡å’Œæ•°ç»„çš„æ›´æ–°
çŠ¶æ€æ˜¯ä¸å¯å˜çš„ï¼Œå¿…é¡»åˆ›å»ºæ–°çš„å¯¹è±¡æˆ–æ•°ç»„ï¼š

\`\`\`javascript
// å¯¹è±¡æ›´æ–°
setUser(prevUser => ({
  ...prevUser,
  name: 'New Name'
}));

// æ•°ç»„æ›´æ–°
setItems(prevItems => [...prevItems, newItem]);
\`\`\`

## âš ï¸ å¸¸è§é™·é˜±

1. **ç›´æ¥ä¿®æ”¹çŠ¶æ€**ï¼šæ°¸è¿œä¸è¦ç›´æ¥ä¿®æ”¹çŠ¶æ€å¯¹è±¡
2. **åœ¨å¾ªç¯ä¸­å¤šæ¬¡è°ƒç”¨setState**ï¼šå¯èƒ½å¯¼è‡´æ„å¤–çš„ç»“æœ
3. **å¿˜è®°çŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥çš„**ï¼šä¸è¦æœŸæœ›çŠ¶æ€ç«‹å³æ”¹å˜

å¸Œæœ›è¿™ä¸ªè§£é‡Šå¯¹ä½ æœ‰å¸®åŠ©ï¼`]}class Iu extends du{constructor(u){super(),cu(this,u,_u,ku,Eu,{})}}export{Iu as component};
