import{N as O,o as P,m as A,O as M}from"./CIdRdH2t.js";import{w as B}from"./hAjrpi1q.js";function z(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function G(n,o){n.d(1),o.delete(n.key)}function J(n,o){A(n,1,1,()=>{o.delete(n.key)})}function K(n,o,b,c,g,d,r,k,S,L,E,x){let m=n.length,w=d.length,h=m;const I={};for(;h--;)I[n[h].key]=h;const v=[],t=new Map,e=new Map,s=[];for(h=w;h--;){const i=x(g,d,h),a=b(i);let l=r.get(a);l?s.push(()=>l.p(i,o)):(l=L(a,i),l.c()),t.set(a,v[h]=l),a in I&&e.set(a,Math.abs(h-I[a]))}const f=new Set,p=new Set;function u(i){P(i,1),i.m(k,E),r.set(i.key,i),E=i.first,w--}for(;m&&w;){const i=v[w-1],a=n[m-1],l=i.key,T=a.key;i===a?(E=i.first,m--,w--):t.has(T)?!r.has(l)||f.has(l)?u(i):p.has(T)?m--:e.get(l)>e.get(T)?(p.add(l),u(i)):(f.add(T),m--):(S(a,r),m--)}for(;m--;){const i=n[m];t.has(i.key)||S(i,r)}for(;w;)u(v[w-1]);return O(s),v}function Q(...n){return n.filter(Boolean).join(" ")}const _=typeof document<"u";function $(n){const o=B(n);function b(g){_&&o.set(g)}function c(g){_&&o.update(g)}return{subscribe:o.subscribe,set:b,update:c}}let j=0;function C(){const n=$([]),o=$([]);function b(t){n.update(e=>[t,...e])}function c(t){var l;const{message:e,...s}=t,f=typeof(t==null?void 0:t.id)=="number"||t.id&&((l=t.id)==null?void 0:l.length)>0?t.id:j++,p=t.dismissable===void 0?!0:t.dismissable,u=t.type===void 0?"default":t.type;return M(n).find(T=>T.id===f)?n.update(T=>T.map(H=>H.id===f?{...H,...t,id:f,title:e,dismissable:p,type:u,updated:!0}:{...H,updated:!1})):b({...s,id:f,title:e,dismissable:p,type:u}),f}function g(t){if(t===void 0){n.update(e=>e.map(s=>({...s,dismiss:!0})));return}return n.update(e=>e.map(s=>s.id===t?{...s,dismiss:!0}:s)),t}function d(t){if(t===void 0){n.set([]);return}return n.update(e=>e.filter(s=>s.id!==t)),t}function r(t,e){return c({...e,type:"default",message:t})}function k(t,e){return c({...e,type:"error",message:t})}function S(t,e){return c({...e,type:"success",message:t})}function L(t,e){return c({...e,type:"info",message:t})}function E(t,e){return c({...e,type:"warning",message:t})}function x(t,e){return c({...e,type:"loading",message:t})}function m(t,e){if(!e)return;let s;e.loading!==void 0&&(s=c({...e,promise:t,type:"loading",message:e.loading}));const f=t instanceof Promise?t:t();let p=s!==void 0;return f.then(u=>{if(u&&typeof u.ok=="boolean"&&!u.ok){p=!1;const i=typeof e.error=="function"?e.error(`HTTP error! status: ${u.status}`):e.error;c({id:s,type:"error",message:i})}else if(e.success!==void 0){p=!1;const i=typeof e.success=="function"?e.success(u):e.success;c({id:s,type:"success",message:i})}}).catch(u=>{if(e.error!==void 0){p=!1;const i=typeof e.error=="function"?e.error(u):e.error;c({id:s,type:"error",message:i})}}).finally(()=>{var u;p&&(g(s),s=void 0),(u=e.finally)==null||u.call(e)}),s}function w(t,e){const s=(e==null?void 0:e.id)||j++;return c({component:t,id:s,...e}),s}function h(t){o.update(e=>e.filter(s=>s.toastId!==t))}function I(t){if(M(o).find(s=>s.toastId===t.toastId)===void 0){o.update(s=>[t,...s]);return}o.update(s=>s.map(f=>f.toastId===t.toastId?t:f))}function v(){n.set([]),o.set([])}return{create:c,addToast:b,dismiss:g,remove:d,message:r,error:k,success:S,info:L,warning:E,loading:x,promise:m,custom:w,removeHeight:h,setHeight:I,reset:v,toasts:n,heights:o}}const y=C();function D(n,o){return y.create({message:n,...o})}const F=D,R=Object.assign(F,{success:y.success,info:y.info,warning:y.warning,error:y.error,custom:y.custom,message:y.message,promise:y.promise,dismiss:y.dismiss,loading:y.loading}),U=n=>({subscribe:n});function N(){const n="light",o=localStorage.getItem("theme")||n,{subscribe:b,set:c,update:g}=B(o);return{subscribe:b,set:d=>{localStorage.setItem("theme",d),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(d),c(d)},toggle:()=>{g(d=>{const r=d==="light"?"dark":"light";return localStorage.setItem("theme",r),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r),r})},init:()=>{{const r=localStorage.getItem("theme")||n;document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r),c(r)}}}}const V=N();export{K as a,V as b,Q as c,G as d,z as e,R as f,J as o,y as t,U as u};
